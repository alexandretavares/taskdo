!function(){"use strict";function e(e,t){e.state(t.BASE,{url:"/app","abstract":!0,templateUrl:"app/common/partials/menu.html",controller:"MenuController",controllerAs:"mv"})}angular.module("taskdo.common",[]).config(e),e.$inject=["$stateProvider","STATE"]}(),function(){"use strict";angular.module("taskdo.common").constant("STATE",{BASE:"app",DASHBOARD:"app.dashboard",PROJECTS:"app.projects",TASKS:{BASE:"app.tasks",ALL:"app.tasks.all",INBOX:"app.tasks.inbox",TODAY:"app.tasks.today",WEEK:"app.tasks.week",BY_PROJECT:"app.tasks.by-project",FINISHED:"app.tasks-finished"},SETTINGS:"app.settings"}),angular.module("taskdo.common").constant("PRIORITY",{CRITICAL:{code:"CRITICAL",name:"i18n.priority.critical"},HIGHEST:{code:"HIGHEST",name:"i18n.priority.highest"},HIGH:{code:"HIGH",name:"i18n.priority.high"},MEDIUM:{code:"MEDIUM",name:"i18n.priority.medium"},LOW:{code:"LOW",name:"i18n.priority.low"},LOWEST:{code:"LOWEST",name:"i18n.priority.lowest"}}),angular.module("taskdo.common").constant("LANGUAGE",{PREFIX:"app/i18n/",SUFFIX:".json",KEYS:["en","pt_br"],ALIAS:{en:"en","en_*":"en","en-*":"en",pt:"pt_br","pt_*":"pt_br","pt-*":"pt_br"},PREFERRED:"en",FALLBACK:"en"}),angular.module("taskdo.common").constant("TABLE",{PROJECT:"project",TASK:"task",SETTING:"setting"}),angular.module("taskdo.common").constant("LIST_FIELDS",{PROJECTS:[{name:"name",type:"string"}],TASKS:[{name:"name",type:"string"},{name:"project.name",type:"string"},{name:"dueDate",type:"date"}]})}(),function(){"use strict";angular.module("taskdo.common").value("defaultProject",{})}(),function(){"use strict";function e(e,t,n,o,i){var s=this,r=function(t){return e(function(e,t){var o=[i.PREFIX,s.getCurrentLanguage(),i.SUFFIX].join("");n.get(o).success(function(t){angular.extend(s,t.i18n),e()}).error(function(e){t(e)})})};this.refresh=function(n){return e(function(e,o){var i=n||t.resolveClientLocale();i=i.toLowerCase(),t.use(i).then(function(){r().then(function(){e()})["catch"](function(e){console.error(e),o(e)})})})},this.getLanguages=function(){return i.KEYS},this.getCurrentLanguage=function(){return t.use().toLowerCase()},this.$interpolate=function(e,t){return o(e)(t)}}angular.module("taskdo.common").service("i18nService",e),e.$inject=["$q","$translate","$http","$interpolate","LANGUAGE"]}(),function(){"use strict";function e(){var e=/translate3d\((-?\d+\.?\d*(?:px)?),\s?(-?\d+\.?\d*(?:px)?),\s?(-?\d+\.?\d*(?:px)?)\)/,t=function(e){return"string"==typeof e?-1==e.indexOf("px")?e+"px":e:"number"==typeof e?e+"px":"0px"},n=function(t){var n=t.style[ionic.CSS.TRANSFORM],o=n.match(e);return o?o.slice(1,4):["0px","0px","0px"]};this.translate3d=function(e,n,o,i,s){var r=[];r.push(t(n)),r.push(t(o)),r.push(t(i)),e.style[ionic.CSS.TRANSFORM]="translate3d("+r.join(", ")+")",e.style[ionic.CSS.TRANSITION]=s},this.translateX=function(e,t,o){var i=n(e);this.translate3d(e,t,i[1],i[2],o)}}angular.module("taskdo.common").service("transformService",e),e.$inject=[]}(),function(){"use strict";function e(){this.getWeekRangeOfDate=function(e){var t=6,n=e.getDay(),o=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0);o.setDate(o.getDate()-n);var i=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0);return i.setDate(i.getDate()+(t-n)),{start:o,end:i}}}angular.module("taskdo.common").service("utilService",e),e.$inject=[]}(),function(){"use strict";angular.module("taskdo.components",["taskdo.common"])}(),function(){"use strict";function e(e){function t(t){var n=!1,i=o.collection(t),s=function(e,t,n){i.save(function(o){o?t(o):e(n)})},r=function(e){n?e():i.load(function(){n=!0,e()})};this.findOne=function(t,n){return e(function(e,o){r(function(){var o=i.find(t,n);e(o.length>0?angular.copy(o[0]):null)})})},this.find=function(t,n){return e(function(e,o){r(function(){var o=i.find(t,n);e(angular.copy(o))})})},this.get=function(t){return e(function(e,n){r(function(){var o=i.find({_id:{$eq:t}});o.length>0?e(angular.copy(o[0])):n(null)})})},this.save=function(t){return e(function(e,n){var r=angular.copy(t);angular.forEach(r,function(e,t){e instanceof Date&&(r[t]=o.make(e))}),r.hasOwnProperty("_id")?i.update({_id:r._id},r):i.insert(r),s(e,n,r)})},this.remove=function(t){return e(function(e,n){i.remove({_id:t},function(){s(e,n)})})},this.removeByQuery=function(t){return e(function(e,n){i.remove(t,function(){s(e,n)})})},this.update=function(t,n){return e(function(e,o){i.update({_id:t},n),s(e,o)})}}var n=new ForerunnerDB,o=n.db("taskdo");return t}angular.module("taskdo.components").factory("Database",e),e.$inject=["$q"]}(),function(){"use strict";function e(e,t,n){this.show=function(o){return e(function(e,i){window.plugins&&window.plugins.toast?t.showShortBottom(o).then(function(t){e()},function(e){i(e)}):n.show({template:o,noBackdrop:!0,duration:2e3}).then(function(t){setTimeout(function(){e()},2e3)},function(e){i(e)})})}}angular.module("taskdo.components").service("toastService",e),e.$inject=["$q","$cordovaToast","$ionicLoading"]}(),function(){"use strict";function e(e,t,n){var o=function(o){return e(function(e,i){t.confirm({title:o.title,template:o.content,cancelText:n.common.popup.buttons.no,okText:n.common.popup.buttons.yes,okType:"button-stable"}).then(function(t){t?e():i()})["catch"](function(e){i(e)})})},i=function(o){return e(function(e,i){t.alert({title:o.title,template:o.content,okText:n.common.popup.buttons.ok,okType:"button-stable"}).then(function(){e()})["catch"](function(e){i(e)})})};this.remove=function(){return o(n.common.popup.remove)},this.finish=function(){return o(n.common.popup.finish)},this.restore=function(){return o(n.common.popup.restore)},this.exit=function(e){return o(n.common.popup.exit)},this.fatal=function(){return i(n.common.popup.error.fatal)}}angular.module("taskdo.components").service("popupService",e),e.$inject=["$q","$ionicPopup","i18nService"]}(),function(){"use strict";function e(e,t,n,o,i){var s=180,r=9999,c=5400,a=400;return{scope:{fields:"=",collection:"=",icon:"@?",selected:"=?",selectedCount:"=?",selectedAll:"=?",dragLeft:"=?",onDragLeftComplete:"&?",dragRight:"=?",onDragRightComplete:"&?",onRowClick:"&?"},templateUrl:"app/components/directive/partials/tsk-list.html",restrict:"E",link:function(e,l,u){var d=!1,f=!1;e.draggingRight=!1,e.draggingLeft=!1,e.selected=e.selected||{},e.selectedCount=e.selectedCount||0,e.selectedAll=e.selectedAll||!1,e.avatarIcon=e.icon?e.icon:null;var p=function(e,n){var o=n>0?r:-r,s=c/Math.abs(n),a="linear "+Math.round(s)+"s";f=!0,ionic.requestAnimationFrame(function(){i.freezeScroll(!1),t.translateX(e,o,a)})},h=ionic.animationFrameThrottle(function(e,n){var o=e.gesture.deltaX;t.translateX(n,o,"none")}),m=function(e,t){for(var n=0,o=t.split("."),i=o.length;i>n;n++)e=e[o[n]];return e},g=function(){for(var t=e.collection.length,n=0;t>n;n++){var o=e.selected[e.collection[n]._id];o||(e.selected[e.collection[n]._id]=e.collection[n],e.selectedCount++)}},v=function(){e.selected={},e.selectedCount=0};e.wasSelected=function(t){return void 0!==e.selected[t]},e.hasSelected=function(){return!angular.equals({},e.selected)},e.$watch("selectedAll",function(e){d?d=!1:e?g():v()}),e.toggleMark=function(t){e.selected[t._id]?(e.selectedCount--,delete e.selected[t._id],e.selectedAll&&e.selectedCount!=e.collection.length&&(e.selectedAll=!1,d=!0)):(e.selectedCount++,e.selected[t._id]=t,e.selectedCount==e.collection.length&&(e.selectedAll=!0,d=!0))},e.format=function(e,t){return"date"==t.type?o("date")(m(e,t.name),"dd/MM/yyyy"):m(e,t.name)},e.onSwipeRight=function(t,o){if(e.dragRight){t.gesture.srcEvent.preventDefault();var i=t.currentTarget;p(i,i.clientWidth),e.onDragRightComplete&&n(function(){e.onDragRightComplete({id:o})},a)}},e.onDragRight=function(t,o){if(e.dragRight&&!f){t.gesture.srcEvent.preventDefault();var r=t.currentTarget;t.gesture.deltaX>s?(p(r,r.clientWidth),e.onDragRightComplete&&n(function(){e.onDragRightComplete({id:o})},a)):(e.draggingRight||i.freezeScroll(!0),e.draggingLeft=!1,e.draggingRight=!0,h(t,r))}},e.onSwipeLeft=function(t,o){if(e.dragLeft){t.gesture.srcEvent.preventDefault();var i=t.currentTarget;p(i,-i.clientWidth),e.onDragLeftComplete&&n(function(){e.onDragLeftComplete({id:o})},a)}},e.onDragLeft=function(t,o){if(e.dragLeft&&!f){t.gesture.srcEvent.preventDefault();var r=t.currentTarget;t.gesture.deltaX<-s?(p(r,-r.clientWidth),e.onDragLeftComplete&&n(function(){e.onDragLeftComplete({id:o})},a)):(e.draggingLeft||i.freezeScroll(!0),e.draggingRight=!1,e.draggingLeft=!0,h(t,r))}},e.onRelease=function(o){if(i.freezeScroll(!1),f)f=!1;else{var s=o.currentTarget;ionic.requestAnimationFrame(function(){t.translateX(s,0,"ease-out 0.4s"),n(function(){e.draggingLeft=!1,e.draggingRight=!1},a)})}},e.rowClick=function(t){e.onRowClick&&e.onRowClick({item:t})}}}}angular.module("taskdo.components").directive("tskList",e),e.$inject=["$ionicGesture","transformService","$timeout","$filter","$ionicScrollDelegate"]}(),function(){"use strict";function e(e){var t='<div class="snackbar ng-hide" ng-show="show"><div class="snackbar-text">{{\'i18n.components.snackbar.text\' | translate}}.</div><button class="button button-small button-clear button-secondary pull-right"ng-click="undo()">{{\'i18n.components.snackbar.button\' | translate}}</button></div>';return{scope:{show:"=",onUndo:"&?"},template:t,restrict:"E",link:function(t,n,o){var i=!1,s=null;t.undo=function(){t.onUndo&&(s&&e.cancel(s),i=!0,t.show=!1,t.onUndo())},t.$watch("show",function(n){i?i=!1:n&&(s=e(function(){i=!0,t.show=!1},5e3))})}}}angular.module("taskdo.components").directive("tskSnackbar",e),e.$inject=["$timeout"]}(),function(){"use strict";function e(){var e='<div class="row empty-page" ng-class="{\'show\': show}"><div class="col text-center"><i class="icon material-icons md-dark md-inactive {{icon}}"></i><h2 ng-bind="title"></h2><p ng-bind="subtitle"></p></div></div>';return{scope:{show:"=",icon:"@",title:"@",subtitle:"@"},template:e,restrict:"E"}}angular.module("taskdo.components").directive("tskEmptyPage",e),e.$inject=[]}(),function(){"use strict";function e(e,t){e.state(t.SETTINGS,{url:"/settings",views:{"content-menu":{templateUrl:"app/settings/partials/setting-list.html",controller:"SettingController",controllerAs:"mv"}}})}angular.module("taskdo.settings",["taskdo.common"]).config(e),e.$inject=["$stateProvider","STATE"]}(),function(){"use strict";function e(e,t,n){var o=this,i=new t(e.SETTING);this.getLanguage=function(){return n(function(e,t){o.get().then(function(t){e(t?t.language:null)})})},this.save=function(e){return i.save(e)},this.get=function(){return i.findOne({},{})}}angular.module("taskdo.settings").service("settingService",e),e.$inject=["TABLE","Database","$q"]}(),function(){"use strict";function e(e,t,n,o,i){var s=this,r="app/settings/partials/",c=null,a=null,l={scope:e,animation:"slide-in-up"};s.showModal=function(e){e==s.MODAL.ABOUT?a.show():c.show()},s.hideModal=function(e){e==s.MODAL.ABOUT?a.hide():c.hide().then(function(){s.setting=angular.copy(s.defaultSetting)})},s.save=function(){i.save(s.setting).then(function(){c.hide().then(function(){s.defaultSetting=angular.copy(s.setting),t.refresh(s.setting.language).then(function(){n.show(t.settings.messages.success.updated)})})})},e.$on("$ionicView.loaded",function(){i.get().then(function(e){null!==e?s.setting=e:s.setting.language=t.getCurrentLanguage(),s.defaultSetting=angular.copy(s.setting)})}),function(){s.setting={},s.languages=t.getLanguages(),s.MODAL={ABOUT:"ABOUT",FORM:"FORM"},o.fromTemplateUrl(r+"setting-form.html",l).then(function(e){c=e}),o.fromTemplateUrl(r+"about.html",l).then(function(e){a=e})}()}angular.module("taskdo.settings").controller("SettingController",e),e.$inject=["$scope","i18nService","toastService","$ionicModal","settingService"]}(),function(){"use strict";function e(e,t){e.state(t.PROJECTS,{url:"/projects",views:{"content-menu":{templateUrl:"app/projects/partials/project-list.html",controller:"ProjectController",controllerAs:"mv"}}})}angular.module("taskdo.projects",["taskdo.common"]).config(e),e.$inject=["$stateProvider","STATE"]}(),function(){"use strict";function e(e,t,n,o){var i=this,s=new n(t.PROJECT);this.list=function(e){return e?s.find({"default":{$exists:!1}}):s.find({},{})},this.save=function(t){var n=e.defer(),o={name:t.name};return t.hasOwnProperty("_id")&&(o._id={$ne:t._id}),s.findOne(o).then(function(e){e?n.reject("Duplicated element on database"):(t.hasOwnProperty("createdDate")||(t.createdDate=new Date),s.save(t).then(function(e){n.resolve(e)})["catch"](function(e){n.reject(e)}))})["catch"](function(e){n.reject(e)}),n.promise},this.get=function(e){return s.get(e)},this.remove=function(e){return o.removeByProject(e).then(function(){return s.remove(e).then(function(){return!0})["catch"](function(e){return console.error(e),!1})})["catch"](function(e){return console.error(e),!1})},this.getDefault=function(){return s.findOne({"default":"true"}).then(function(e){return null!==e?e:i.save({name:"i18n.default.project","default":"true"}).then(function(e){return e})})}}angular.module("taskdo.projects").service("projectService",e),e.$inject=["$q","TABLE","Database","taskService"]}(),function(){"use strict";function e(e,t,n,o,i,s,r,c,a,l,u){var d=this,f=null,p=null,h="app/projects/partials/";d.refreshList=function(){u.show(),o.list(!0).then(function(e){d.projects=e})["catch"](function(e){d.projects=[],console.error(e)})["finally"](function(){u.hide().then(function(){0===d.projects.length?d.isEmpty=!0:d.isEmpty=!1})})},d.showMoreActions=function(e){f.show(e)},d.closeMoreActions=function(){f.hide()},d.showForm=function(e){if(e&&d.hasOnlySelected()){var t=Object.keys(d.selected)[0];d.project=angular.copy(d.selected[t])}else d.project={};p.show()},d.hideForm=function(){d.project={},p.hide()},d.hasOnlySelected=function(){return!angular.equals({},d.selected)&&1==d.selectedCount},d.hasSelected=function(){return!angular.equals({},d.selected)},d.toggleSelectAll=function(){d.selectedAll=!d.selectedAll,d.closeMoreActions()},d.unselectAll=function(){d.selected={},d.selectedAll=!1,d.selectedCount=0},d.save=function(){d.projectForm.$invalid?i.show(r.common.validations.requiredFields):o.save(d.project).then(function(){var e;e=d.project.hasOwnProperty("_id")?r.common.messages.success.updated:r.common.messages.success.created,i.show(e).then(function(){d.unselectAll(),d.refreshList(),d.hideForm()})})["catch"](function(e){i.show(r.common.messages.error.duplicated),console.error(e)})},d.remove=function(){s.remove().then(function(){var e=[];angular.forEach(d.selected,function(t,n){e.push(n)}),o.remove(e).then(function(){i.show(r.common.messages.success.removedSelected).then(function(){d.unselectAll(),d.refreshList()})})})},d.onRowClick=function(e){a.go(l.TASKS.BY_PROJECT,{project:e})},e.$on("$destroy",function(){f.remove()}),e.$on("$ionicView.loaded",function(e,t){d.refreshList()}),function(){d.projects=[],d.project={},d.selected={},d.selectedCount=0,d.selectedAll=!1,d.fields=c.PROJECTS,d.isEmpty=!1,t.fromTemplateUrl(h+"project-more-actions.html",{scope:e}).then(function(e){f=e}),n.fromTemplateUrl(h+"project-form.html",{scope:e,animation:"slide-in-up"}).then(function(e){p=e})}()}angular.module("taskdo.projects").controller("ProjectController",e),e.$inject=["$scope","$ionicPopover","$ionicModal","projectService","toastService","popupService","i18nService","LIST_FIELDS","$state","STATE","$ionicLoading"]}(),function(){"use strict";function e(e,t){e.state(t.TASKS.BASE,{url:"/tasks","abstract":!0,views:{"content-menu":{template:'<ion-nav-view name="content-view"></ion-nav-view>',controller:"TaskController",controllerAs:"mv"}}}).state(t.TASKS.ALL,{url:"/all",views:{"content-view":{templateUrl:"app/tasks/partials/task-list.html"}}}).state(t.TASKS.INBOX,{url:"/inbox",views:{"content-view":{templateUrl:"app/tasks/partials/task-list.html"}}}).state(t.TASKS.TODAY,{url:"/today",views:{"content-view":{templateUrl:"app/tasks/partials/task-list.html"}}}).state(t.TASKS.WEEK,{url:"/week",views:{"content-view":{templateUrl:"app/tasks/partials/task-list.html"}}}).state(t.TASKS.BY_PROJECT,{url:"/by-project",params:{project:null},views:{"content-view":{templateUrl:"app/tasks/partials/task-list.html"}}}).state(t.TASKS.FINISHED,{url:"/tasks/finished",params:{project_id:null},views:{"content-menu":{templateUrl:"app/tasks/partials/task-finished.html",controller:"TaskFinishedController",controllerAs:"mv"}}})}angular.module("taskdo.tasks",["taskdo.common"]).config(e),e.$inject=["$stateProvider","STATE"]}(),function(){"use strict";function e(e,t,n){var o=new n(t.TASK),i={$join:[{project:{_id:"project_id",$as:"project",$required:!0,$multi:!1}}],$orderBy:{dueDate:1}};this.listOpened=function(e,t,n){var s={$or:[{finished:!1},{finished:{$exists:!1}}]};if(e&&(s.project_id=e),t||n){var r=[{dueDate:{$exists:!0}}];t&&r.push({dueDate:{$gte:t}}),n&&r.push({dueDate:{$lte:n}}),s.$and=r}return o.find(s,i)},this.listFinished=function(e){var t={finished:!0};return e&&(t.project_id=e),o.find(t,i)},this.save=function(t){var n=e.defer(),i={name:t.name,project_id:t.project_id};return t.hasOwnProperty("_id")&&(i._id={$ne:t._id}),o.findOne(i).then(function(e){e?n.reject("Duplicated element on database"):(t.hasOwnProperty("createdDate")||(t.createdDate=new Date),o.save(t).then(function(e){n.resolve(e)})["catch"](function(e){n.reject(e)}))})["catch"](function(e){n.reject(e)}),n.promise},this.get=function(e){return o.get(e)},this.remove=function(e){return o.remove(e)},this.removeByProject=function(e){return o.removeByQuery({project_id:e})},this.finish=function(e){return o.update(e,{finished:!0})},this.restore=function(e){return o.update(e,{finished:!1})}}angular.module("taskdo.tasks").service("taskService",e),e.$inject=["$q","TABLE","Database"]}(),function(){"use strict";function e(e,t,n,o,i,s,r,c,a,l,u,d,f,p){var h=this,m="tasks",g="app/tasks/partials/",v=null,S=null,k=null,A=null,T=null,w=null;h.isStateFinished=function(){return t.is(s.TASKS.FINISHED)},h.goStateFinished=function(){h.closeMoreActions(),t.go(s.TASKS.FINISHED,{project_id:S,start:k,end:A})},h.goBack=function(){t.go(s.PROJECTS)},h.showMoreActions=function(e){T.show(e)},h.closeMoreActions=function(){T.hide()},h.showForm=function(e){if(h.minDate=new Date,e){h.editMode=!0;var t=Object.keys(h.selected)[0];h.task=angular.copy(h.selected[t])}else h.task={},h.editMode=!1,null!==S&&(h.task.project_id=S);w.show()},h.hideForm=function(){return h.task={},w.hide()},h.hasOnlySelected=function(){return!angular.equals({},h.selected)&&1==h.selectedCount},h.hasSelected=function(){return!angular.equals({},h.selected)},h.toggleSelectAll=function(){h.selectedAll=!h.selectedAll,h.closeMoreActions()},h.unselectAll=function(){h.selected={},h.selectedAll=!1,h.selectedCount=0},h.refreshList=function(){p.show(),l.listOpened(S,k,A).then(function(e){h.tasks=e})["catch"](function(e){h.tasks=[],console.error(e)})["finally"](function(){p.hide().then(function(){0===h.tasks.length?h.isEmpty=!0:h.isEmpty=!1})})},h.refreshProjects=function(){u.list().then(function(e){h.projects=e})["catch"](function(e){console.error(e)})},h.save=function(){h.taskForm.$invalid?c.show(r.common.validations.requiredFields):l.save(h.task).then(function(){var e;e=h.task.hasOwnProperty("_id")?r.common.messages.success.updated:r.common.messages.success.created,c.show(e).then(function(){h.unselectAll(),h.refreshList(),h.hideForm()})})["catch"](function(e){c.show(r.common.messages.error.duplicated),console.error(e)})},h.remove=function(){a.remove().then(function(){var e=[];angular.forEach(h.selected,function(t,n){e.push(n)}),l.remove(e).then(function(){c.show(r.common.messages.success.removedSelected).then(function(){h.unselectAll(),h.refreshList()})})})},h.finish=function(){a.finish().then(function(){var e=[];angular.forEach(h.selected,function(t,n){e.push(n)}),l.finish(e).then(function(){c.show(r.tasks.messages.success.finished).then(function(){h.unselectAll(),h.refreshList()})})})},h.onDragRightComplete=function(e){l.finish(e).then(function(){v=e,h.snackbarVisible=!0,h.unselectAll(),h.refreshList()})},h.undoFinish=function(){l.restore(v).then(function(){v=null,h.unselectAll(),h.refreshList()})},h.canShowFinished=function(){return!t.is(s.TASKS.TODAY)&&!t.is(s.TASKS.WEEK)},e.$on("$ionicView.beforeEnter",function(e,n){switch(S=null,k=null,A=null,t.current.name){case s.TASKS.INBOX:S=d._id,h.pageTitle=d.name,h.emptyPageIcon="inbox";break;case s.TASKS.TODAY:A=new Date,h.pageTitle="i18n.tasks.list.today",h.emptyPageIcon="today";break;case s.TASKS.WEEK:var o=f.getWeekRangeOfDate(new Date);k=o.start,A=o.end,h.pageTitle="i18n.tasks.list.week",h.emptyPageIcon="week";break;case s.TASKS.BY_PROJECT:var i=t.params.project;h.emptyPageIcon=m,i&&(S=i._id,h.pageTitle=i.name);break;default:h.emptyPageIcon=m,h.pageTitle="i18n.tasks.list.all"}h.refreshList(),h.refreshProjects()}),e.$on("$destroy",function(){T.remove()}),function(){h.projects=[],h.tasks=[],h.task={},h.selected={},h.pageTitle="",h.editMode=!1,h.selectedCount=0,h.selectedAll=!1,h.snackbarVisible=!1,h.stateFinished=s.TASKS.FINISHED,h.fields=i.TASKS,h.emptyPageIcon=m,h.isEmpty=!1,n.fromTemplateUrl(g+"task-more-actions.html",{scope:e}).then(function(e){T=e}),o.fromTemplateUrl(g+"task-form.html",{scope:e,animation:"slide-in-up"}).then(function(e){w=e})}()}angular.module("taskdo.tasks").controller("TaskController",e),e.$inject=["$scope","$state","$ionicPopover","$ionicModal","LIST_FIELDS","STATE","i18nService","toastService","popupService","taskService","projectService","defaultProject","utilService","$ionicLoading"]}(),function(){"use strict";function e(e,t,n,o,i,s,r,c,a,l,u){var d=this,f=null,p=null,h="app/tasks/partials/";d.goBack=function(){n.goBack()},d.isStateFinished=function(){return t.is(i.TASKS.FINISHED)},d.showMoreActions=function(e){p.show(e)},d.closeMoreActions=function(){p.hide()},d.hasSelected=function(){return!angular.equals({},d.selected)},d.toggleSelectAll=function(){d.selectedAll=!d.selectedAll,d.closeMoreActions()},d.unselectAll=function(){d.selected={},d.selectedAll=!1,d.selectedCount=0},d.refreshList=function(){u.show(),l.listFinished(f).then(function(e){d.tasks=e})["catch"](function(e){d.tasks=[],console.error(e)})["finally"](function(){u.hide().then(function(){0===d.tasks.length?d.isEmpty=!0:d.isEmpty=!1})})},d.remove=function(){a.remove().then(function(){var e=[];angular.forEach(d.selected,function(t,n){e.push(n)}),l.remove(e).then(function(){d.unselectAll(),c.show(r.common.messages.success.removedSelected),d.refreshList()})})},d.restore=function(){a.restore().then(function(){var e=[];angular.forEach(d.selected,function(t,n){e.push(n)}),l.restore(e).then(function(){d.unselectAll(),c.show(r.tasks.messages.success.restored),d.refreshList()})})},e.$on("$ionicView.beforeEnter",function(e,n){f=t.params.project_id,d.refreshList()}),e.$on("$destroy",function(){p.remove()}),function(){d.tasks=[],d.selected={},d.selectedCount=0,d.selectedAll=!1,d.fields=s.TASKS,d.stateFinished=i.TASKS.FINISHED,o.fromTemplateUrl(h+"task-more-actions.html",{scope:e}).then(function(e){p=e})}()}angular.module("taskdo.tasks").controller("TaskFinishedController",e),e.$inject=["$scope","$state","$ionicHistory","$ionicPopover","STATE","LIST_FIELDS","i18nService","toastService","popupService","taskService","$ionicLoading"]}(),function(){"use strict";function e(e,t){e.state(t.DASHBOARD,{url:"/dashboard",views:{"content-menu":{templateUrl:"app/dashboard/partials/dashboard.html",controller:"DashboardController",controllerAs:"mv"}}})}angular.module("taskdo.dashboard",["taskdo.common"]).config(e),e.$inject=["$stateProvider","STATE"]}(),function(){"use strict";function e(e,t,n,o,i,s,r,c,a){var l=this,u=function(e,t,n){i.refresh(n).then(function(){e()})["catch"](function(e){t(e)})},d=function(){return t(function(e,t){s.getLanguage().then(function(n){null!==n?u(e,t,n):"undefined"!=typeof navigator.globalization?navigator.globalization.getPreferredLanguage(function(n){u(e,t,n.value.split("-")[0])},null):u(e,t)})})},f=function(){r.getDefault().then(function(e){angular.extend(c,e)})};e.$on("$ionicView.loaded",function(e,t){n.show(),d().then(function(){n.hide().then(function(){l.loaded=!0})})["catch"](function(e){n.hide().then(function(){a.fatal().then(function(){ionic.Platform.exitApp()})})})}),function(){l.STATE=o,l.loaded=!1,f()}()}angular.module("taskdo.dashboard").controller("DashboardController",e),e.$inject=["$scope","$q","$ionicLoading","STATE","i18nService","settingService","projectService","defaultProject","popupService"]}(),function(){"use strict";function e(e,t,n,o){var i=this;i.exit=function(){o.exit().then(function(){ionic.Platform.exitApp()})},function(){i.STATE=n,e.$on("$ionicView.enter",function(e,n,o,i,s){t.isOpenLeft()&&t.toggleLeft(!1)})}()}angular.module("taskdo.common").controller("MenuController",e),e.$inject=["$rootScope","$ionicSideMenuDelegate","STATE","popupService"]}(),function(){"use strict";function e(e){e.ready(function(){window.cordova&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),cordova.plugins.Keyboard.disableScroll(!0)),window.StatusBar&&StatusBar.styleDefault(),"undefined"!=typeof navigator.splashscreen&&setTimeout(function(){navigator.splashscreen.hide()},100)})}angular.module("taskdo",["ionic","ngCordova","angular.filter","pascalprecht.translate","ionic-material","taskdo.common","taskdo.components","taskdo.dashboard","taskdo.settings","taskdo.projects","taskdo.tasks"]).run(e),e.$inject=["$ionicPlatform"]}(),function(){"use strict";function e(e,t,n){t.useStaticFilesLoader({prefix:n.PREFIX,suffix:n.SUFFIX}).registerAvailableLanguageKeys(n.KEYS,n.ALIAS).preferredLanguage(n.PREFERRED).fallbackLanguage(n.FALLBACK).determinePreferredLanguage().useSanitizeValueStrategy("escapeParameters"),e.otherwise("/app/dashboard")}var t=angular.module("taskdo"),n='<div class="loader"><svg class="circular"><circle class="path" cx="25" cy="25" r="10" fill="none" stroke-width="2" stroke-miterlimit="10"/></svg></div>';t.constant("$ionicLoadingConfig",{template:n}),t.config(e),e.$inject=["$urlRouterProvider","$translateProvider","LANGUAGE"]}();